<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Document</title>
</head>

<body>

    <nav class=" w-full border mt-4 border-gray-400 ">
        <div class="flex items-center justify-between gap-4 lg:gap-10 mx-auto p-4 w-6/12 ">
            <a class="text-gray-500 font-medium font-sans hover:drop-shadow-md" href="">Home</a>
            <a class="text-gray-500 font-medium font-sans hover:drop-shadow-md" href="">About</a>
            <a class="text-gray-500 font-medium font-sans hover:drop-shadow-md" href="">Videos</a>
            <a class="text-gray-500 font-medium font-sans hover:drop-shadow-md" href="">Contact</a>
        </div>
    </nav>
    <div class="my-5 grid grid-col-1  gap-4">

        <div
            class="relative md:w-4/6 md:h-[37vw] h-80  border-gray-400 drop-shadow-md  shadow-sm border-2 justify-self-center">
            <div class="absolute inset-0 flex justify-center items-center bg-no-repeat bg-contain w-9/12 mx-auto my-8"
                style="background-image: url('https://media.istockphoto.com/id/836180382/vector/clean-school-board-with-chalk-and-sponge.jpg?s=612x612&w=0&k=20&c=uECgQzKjN-NjV-kJoqhjkBX1WRh13vt_r2lhuuAZ9Ro=')            ">

                <button id="submit-button"
                    class="rounded-md bg-green-600 px-3.5 py-1.5 text-base font-semibold leading-7 text-white hover:bg-green-500">
                    <p>
                        Start Watching
                    </p>
                    <p class="text-xs ">
                        (demo button)
                    </p>
                </button>

                <button id="stop-button"
                    class="absolute top-0 right-0 m-4 bg-red-500 text-white font-bold py-2 px-4 rounded focus:outline-none hidden">Stop</button>
            </div>
        </div>
        <div class="h-fit lg:w-4/12 w-72 mx-3 grid grid-cols-4 border-gray-400 border-2 justify-self-end p-3">
            <div class="w-full px-4 col-span-3 ">

                <video id="user-video" width="200" height="150" class="border border-red-300 ml-2"></video>
                <div class="w-5/6 pt-4 grid grid-cols-2 gap-3">
                    <button onclick="startFacecam() "
                        class=" rounded-md bg-sky-600 px-1.5 py-0.5 text-xs font-semibold leading-7 text-white hover:bg-sky-600/90">Start
                        Facecam</button>
                    <button onclick="stopFacecam() "
                        class="rounded-md bg-sky-600 px-1.5 py-0.5 text-xs font-semibold leading-7 text-white hover:bg-sky-600/90">Stop
                        Facecam</button>
                </div>
            </div>
            <div class="reactions grid grid-rows-4 justify-self-center shadow-md ">
                <img class="w-[2rem] py-3 hover:scale-125 hover:shadow-md rounded-lg" src="/assets/clapping-hands.png" alt="" srcset="">
                <img class="w-[2rem] py-3 hover:scale-125 hover:shadow-md rounded-lg" src="/assets/fire.png" alt="" srcset="">
                <img class="w-[2rem] py-3 hover:scale-125 hover:shadow-md rounded-lg" src="/assets/party-popper.png" alt="" srcset="">
                <img class="w-[2rem] py-3 hover:scale-125 hover:shadow-md rounded-lg" src="/assets/raised-hand.png" alt="" srcset="">
            </div>

        </div>
    </div>

    <script>
        async function startFacecam() {
            const userVideo = document.getElementById("user-video");
            const constraints = { video: true };
            try {
                stream = await navigator.mediaDevices.getUserMedia(constraints);
                userVideo.srcObject = stream;
                userVideo.play();
            } catch (error) {
                console.error("Error accessing user media: ", error);
            }
        }

        function stopFacecam() {
            const userVideo = document.getElementById("user-video");
            if (stream) {
                const tracks = stream.getTracks();
                tracks.forEach(track => track.stop());
                stream = null;
                userVideo.srcObject = null;
            }
        }

    </script>
</body>

</html>